import React from "react";
import Wrapper from "./components/wrapper";
import { useDispatch, useSelector } from "react-redux";
import { toggleLangModal, toggleQuitModal } from "../../redux/slice/modals";
import { useIntl } from "react-intl";
import { useRouter } from "next/router";
import toast from "react-hot-toast";

export default function LangModal() {
  const { langModal } = useSelector((state) => state.modals);
  const dispatch = useDispatch();
  const intl = useIntl();
  const router = useRouter();

  const langs = [
    {
      id: 1,
      name: "O'zbek tili",
      short: "uz",
      icon: `<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_31_3439)">
          <path d="M0.7555 11.1305C0.265375 12.666 -6.2489e-05 14.3018 1.10347e-08 15.9999C-6.2489e-05 17.698 0.265437 19.3339 0.755562 20.8694L16 21.5652L31.2444 20.8696C31.7345 19.334 32.0001 17.698 32.0001 16C32 14.3019 31.7346 12.666 31.2444 11.1304L16 10.4348L0.7555 11.1305Z" fill="#F0F0F0"/>
          <path d="M31.2439 11.1305L15.9995 10.4349L0.755008 11.1305C0.609758 11.5858 0.484695 12.0499 0.379883 12.5218H31.6189C31.5142 12.0499 31.3892 11.5856 31.2439 11.1305Z" fill="#D80027"/>
          <path d="M0.379883 19.4782C0.48457 19.9501 0.609633 20.4142 0.754883 20.8695L0.756383 20.8695L15.9993 21.5651L31.2437 20.8695C31.3889 20.4143 31.514 19.9501 31.6188 19.4782H0.379883Z" fill="#D80027"/>
          <path d="M16.0002 31.9999C23.1387 31.9999 29.1844 27.3248 31.2447 20.8695H0.755859C2.81617 27.3247 8.86192 31.9999 16.0002 31.9999Z" fill="#6DA544"/>
          <path d="M16.0003 6.10358e-05C8.86192 0.000123536 2.8163 4.67531 0.755859 11.1305L31.2447 11.1306C29.1845 4.67525 23.1388 -1.46422e-06 16.0003 6.10358e-05Z" fill="#338AF3"/>
          <path d="M7.31135 6.60877C7.31135 5.11021 8.36454 3.85833 9.77098 3.55121C9.55485 3.50396 9.33054 3.47839 9.10016 3.47839C7.37129 3.47839 5.96973 4.87989 5.96973 6.60883C5.96973 8.33777 7.37116 9.73927 9.10016 9.73927C9.33054 9.73927 9.55479 9.71364 9.77098 9.66646C8.3646 9.35921 7.31135 8.10733 7.31135 6.60877Z" fill="#F0F0F0"/>
          <path d="M11.6214 8.03174L11.8333 8.68393H12.519L11.9643 9.08705L12.1761 9.73924L11.6214 9.33618L11.0665 9.73924L11.2784 9.08705L10.7236 8.68393H11.4094L11.6214 8.03174Z" fill="#F0F0F0"/>
          <path d="M13.8097 8.03174L14.0217 8.68393H14.7074L14.1526 9.08705L14.3645 9.73924L13.8097 9.33618L13.2549 9.73924L13.4669 9.08705L12.9121 8.68393H13.5978L13.8097 8.03174Z" fill="#F0F0F0"/>
          <path d="M15.9983 8.03174L16.2102 8.68393H16.896L16.3412 9.08705L16.5531 9.73924L15.9983 9.33618L15.4435 9.73924L15.6555 9.08705L15.1006 8.68393H15.7864L15.9983 8.03174Z" fill="#F0F0F0"/>
          <path d="M18.1878 8.03174L18.3997 8.68393H19.0854L18.5307 9.08705L18.7426 9.73924L18.1878 9.33618L17.6329 9.73924L17.8449 9.08705L17.29 8.68393H17.9758L18.1878 8.03174Z" fill="#F0F0F0"/>
          <path d="M20.3761 8.03174L20.5881 8.68393H21.2738L20.7191 9.08705L20.931 9.73924L20.3761 9.33618L19.8213 9.73924L20.0333 9.08705L19.4785 8.68393H20.1642L20.3761 8.03174Z" fill="#F0F0F0"/>
          <path d="M13.8097 5.755L14.0217 6.40713H14.7074L14.1526 6.81032L14.3645 7.46244L13.8097 7.05938L13.2549 7.46244L13.4669 6.81032L12.9121 6.40713H13.5978L13.8097 5.755Z" fill="#F0F0F0"/>
          <path d="M15.9983 5.755L16.2102 6.40713H16.896L16.3412 6.81032L16.5531 7.46244L15.9983 7.05938L15.4435 7.46244L15.6555 6.81032L15.1006 6.40713H15.7864L15.9983 5.755Z" fill="#F0F0F0"/>
          <path d="M18.1878 5.755L18.3997 6.40713H19.0854L18.5307 6.81032L18.7426 7.46244L18.1878 7.05938L17.6329 7.46244L17.8449 6.81032L17.29 6.40713H17.9758L18.1878 5.755Z" fill="#F0F0F0"/>
          <path d="M20.3761 5.755L20.5881 6.40713H21.2738L20.7191 6.81032L20.931 7.46244L20.3761 7.05938L19.8213 7.46244L20.0333 6.81032L19.4785 6.40713H20.1642L20.3761 5.755Z" fill="#F0F0F0"/>
          <path d="M15.9983 3.47827L16.2102 4.13052H16.896L16.3412 4.53358L16.5531 5.18583L15.9983 4.78277L15.4435 5.18583L15.6555 4.53358L15.1006 4.13052H15.7864L15.9983 3.47827Z" fill="#F0F0F0"/>
          <path d="M18.1878 3.47827L18.3997 4.13052H19.0854L18.5307 4.53358L18.7426 5.18583L18.1878 4.78277L17.6329 5.18583L17.8449 4.53358L17.29 4.13052H17.9758L18.1878 3.47827Z" fill="#F0F0F0"/>
          <path d="M20.3761 3.47827L20.5881 4.13052H21.2738L20.7191 4.53358L20.931 5.18583L20.3761 4.78277L19.8213 5.18583L20.0333 4.53358L19.4785 4.13052H20.1642L20.3761 3.47827Z" fill="#F0F0F0"/>
          </g>
          <defs>
          <clipPath id="clip0_31_3439">
          <rect width="32" height="32" fill="white"/>
          </clipPath>
          </defs>
          </svg>
          `,
    },
    {
      id: 2,
      name: "Русский язык",
      short: "ru",
      icon: `<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_31_3464)">
        <path d="M16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32Z" fill="#F0F0F0"/>
        <path d="M31.0048 21.5652C31.648 19.8319 32 17.9571 32 16C32 14.0429 31.648 12.1681 31.0048 10.4348H0.995188C0.352063 12.1681 0 14.0429 0 16C0 17.9571 0.352063 19.8319 0.995188 21.5652L16 22.9565L31.0048 21.5652Z" fill="#0052B4"/>
        <path d="M15.9999 32C22.8794 32 28.7441 27.658 31.0047 21.5652H0.995117C3.2558 27.658 9.12049 32 15.9999 32Z" fill="#D80027"/>
        </g>
        <defs>
        <clipPath id="clip0_31_3464">
        <rect width="32" height="32" fill="white"/>
        </clipPath>
        </defs>
        </svg>
        `,
    },
    {
      id: 3,
      name: "English language",
      short: "en",
      icon: `<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g clip-path="url(#clip0_32_3513)">
      <path d="M16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32Z" fill="#F0F0F0"/>
      <path d="M3.30709 6.25891C2.05028 7.8941 1.10259 9.77879 0.550781 11.8262H8.87441L3.30709 6.25891Z" fill="#0052B4"/>
      <path d="M31.4485 11.8262C30.8967 9.77885 29.9489 7.89416 28.6922 6.25897L23.125 11.8262H31.4485Z" fill="#0052B4"/>
      <path d="M0.550781 20.174C1.10266 22.2214 2.05034 24.1061 3.30709 25.7412L8.87422 20.174H0.550781Z" fill="#0052B4"/>
      <path d="M25.7411 3.30758C24.1059 2.05077 22.2213 1.10308 20.1738 0.551208V8.87477L25.7411 3.30758Z" fill="#0052B4"/>
      <path d="M6.25879 28.6924C7.89398 29.9492 9.77866 30.8969 11.826 31.4488V23.1253L6.25879 28.6924Z" fill="#0052B4"/>
      <path d="M11.826 0.551208C9.7786 1.10308 7.89391 2.05077 6.25879 3.30752L11.826 8.87471V0.551208Z" fill="#0052B4"/>
      <path d="M20.1738 31.4488C22.2212 30.8969 24.1059 29.9492 25.741 28.6925L20.1738 23.1253V31.4488Z" fill="#0052B4"/>
      <path d="M23.125 20.174L28.6922 25.7413C29.9489 24.1061 30.8967 22.2214 31.4485 20.174H23.125Z" fill="#0052B4"/>
      <path d="M31.8646 13.9131H18.0871H18.087V0.135438C17.4038 0.0465 16.7073 0 16 0C15.2926 0 14.5962 0.0465 13.9131 0.135438V13.9129V13.913H0.135438C0.0465 14.5962 0 15.2927 0 16C0 16.7074 0.0465 17.4038 0.135438 18.0869H13.9129H13.913V31.8646C14.5962 31.9535 15.2926 32 16 32C16.7073 32 17.4038 31.9536 18.0869 31.8646V18.0871V18.087H31.8646C31.9535 17.4038 32 16.7074 32 16C32 15.2927 31.9535 14.5962 31.8646 13.9131Z" fill="#D80027"/>
      <path d="M20.1738 20.174L27.3136 27.3138C27.642 26.9855 27.9552 26.6423 28.2541 26.2866L22.1415 20.174H20.1738V20.174Z" fill="#D80027"/>
      <path d="M11.8263 20.174H11.8262L4.68652 27.3137C5.01477 27.6421 5.35796 27.9553 5.71371 28.2542L11.8263 22.1414V20.174Z" fill="#D80027"/>
      <path d="M11.8263 11.8262V11.8261L4.68659 4.68628C4.35822 5.01453 4.04497 5.35772 3.74609 5.71347L9.85878 11.8262H11.8263V11.8262Z" fill="#D80027"/>
      <path d="M20.1738 11.8262L27.3136 4.68629C26.9854 4.35791 26.6422 4.04466 26.2865 3.74585L20.1738 9.85854V11.8262Z" fill="#D80027"/>
      </g>
      <defs>
      <clipPath id="clip0_32_3513">
      <rect width="32" height="32" fill="white"/>
      </clipPath>
      </defs>
      </svg>
      `,
    },
  ];

  return (
    <Wrapper
      active={langModal}
      isLogo
      title={intl.formatMessage({ id: "language" })}
      type={"bottom"}
      func={() => dispatch(toggleLangModal())}>
      <div className="flex flex-col justify-center gap-4 w-full">
        {langs?.map((item, index) => {
          return (
            <a
              href={`/${item?.short}${router.asPath}`}
              key={index}
              locale={item?.short}
              title={item?.name}
              className="flex flex-row items-center justify-between px-3 py-5 border border-grey-6 rounded-xl">
              <span className="flex items-center gap-3">
                <span
                  dangerouslySetInnerHTML={{
                    __html: item?.icon,
                  }}
                />
                <span className="text-text-primary leading-normal font-medium text-base">
                  {item?.name}
                </span>
              </span>
              <span
                className={`w-7 h-7 linear rounded-lg flex items-center justify-center ${
                  item?.short == router.locale ? "opacity-1" : "opacity-0"
                } transition-opacity duration-200`}>
                <svg
                  width="12"
                  height="9"
                  viewBox="0 0 12 9"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M11.7613 0.21934C11.9017 0.359965 11.9806 0.550589 11.9806 0.74934C11.9806 0.948091 11.9017 1.13871 11.7613 1.27934L4.51127 8.52934C4.37064 8.66979 4.18002 8.74868 3.98127 8.74868C3.78252 8.74868 3.59189 8.66979 3.45127 8.52934L0.201268 5.27934C0.0688589 5.13708 -0.00324457 4.94903 0.000112156 4.75471C0.00346888 4.56039 0.0820243 4.37494 0.219267 4.23734C0.356871 4.1001 0.54232 4.02154 0.736637 4.01818C0.930954 4.01483 1.11901 4.08693 1.26127 4.21934L3.98127 6.93934L10.7013 0.21934C10.8419 0.0788894 11.0325 0 11.2313 0C11.43 0 11.6206 0.0788894 11.7613 0.21934Z"
                    fill="#fff"
                  />
                </svg>
              </span>
            </a>
          );
        })}
      </div>
    </Wrapper>
  );
}
