import {
  toggleContactUsModal,
  toggleInfoModal,
  toggleLangModal,
  toggleQuitModal,
} from "../../redux/slice/modals";
import { useRouter } from "next/router";
import React from "react";
import { useIntl } from "react-intl";
import { useDispatch } from "react-redux";

export default function Settings() {
  const intl = useIntl();
  const router = useRouter();
  const dispatch = useDispatch();

  const btns = [
    {
      id: 0,
      name: intl.formatMessage({ id: "edit" }),
      link: `/${router.locale}/profile/edit`,
      icon: `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M17.5 18.3335H2.5C2.15833 18.3335 1.875 18.0502 1.875 17.7085C1.875 17.3668 2.15833 17.0835 2.5 17.0835H17.5C17.8417 17.0835 18.125 17.3668 18.125 17.7085C18.125 18.0502 17.8417 18.3335 17.5 18.3335Z" fill="#292D32"/>
      <path d="M15.8505 2.90005C14.2338 1.28338 12.6505 1.24172 10.9921 2.90005L9.9838 3.90838C9.90047 3.99172 9.86714 4.12505 9.90047 4.24172C10.5338 6.45005 12.3005 8.21672 14.5088 8.85005C14.5421 8.85838 14.5755 8.86672 14.6088 8.86672C14.7005 8.86672 14.7838 8.83338 14.8505 8.76672L15.8505 7.75838C16.6755 6.94172 17.0755 6.15005 17.0755 5.35005C17.0838 4.52505 16.6838 3.72505 15.8505 2.90005Z" fill="#292D32"/>
      <path d="M13.0079 9.60817C12.7663 9.4915 12.5329 9.37484 12.3079 9.2415C12.1246 9.13317 11.9496 9.0165 11.7746 8.8915C11.6329 8.79984 11.4663 8.6665 11.3079 8.53317C11.2913 8.52484 11.2329 8.47484 11.1663 8.40817C10.8913 8.17484 10.5829 7.87484 10.3079 7.5415C10.2829 7.52484 10.2413 7.4665 10.1829 7.3915C10.0996 7.2915 9.95795 7.12484 9.83295 6.93317C9.73295 6.80817 9.61628 6.62484 9.50795 6.4415C9.37461 6.2165 9.25795 5.9915 9.14128 5.75817V5.75817C8.98832 5.43039 8.5581 5.33301 8.30233 5.58879L3.61628 10.2748C3.50795 10.3832 3.40795 10.5915 3.38295 10.7332L2.93295 13.9248C2.84961 14.4915 3.00795 15.0248 3.35795 15.3832C3.65795 15.6748 4.07461 15.8332 4.52461 15.8332C4.62461 15.8332 4.72461 15.8248 4.82461 15.8082L8.02461 15.3582C8.17461 15.3332 8.38295 15.2332 8.48295 15.1248L13.1767 10.4311C13.4274 10.1804 13.3332 9.74912 13.0079 9.60817V9.60817Z" fill="#292D32"/>
      </svg>
      `,
    },
    {
      id: 1,
      name: intl.formatMessage({ id: "connects" }),
      link: `/${router.locale}/profile/connects`,
      part: "",
      icon: `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7.50033 1.6665C5.31699 1.6665 3.54199 3.4415 3.54199 5.62484C3.54199 7.7665 5.21699 9.49984 7.40033 9.57484C7.46699 9.5665 7.53366 9.5665 7.58366 9.57484C7.60033 9.57484 7.60866 9.57484 7.62532 9.57484C7.63366 9.57484 7.63366 9.57484 7.64199 9.57484C9.77532 9.49984 11.4503 7.7665 11.4587 5.62484C11.4587 3.4415 9.68366 1.6665 7.50033 1.6665Z" fill="#1C232C"/>
        <path d="M11.7338 11.7919C9.40879 10.2419 5.61712 10.2419 3.27546 11.7919C2.21712 12.5002 1.63379 13.4586 1.63379 14.4836C1.63379 15.5086 2.21712 16.4586 3.26712 17.1586C4.43379 17.9419 5.96712 18.3336 7.50046 18.3336C9.03379 18.3336 10.5671 17.9419 11.7338 17.1586C12.7838 16.4502 13.3671 15.5002 13.3671 14.4669C13.3588 13.4419 12.7838 12.4919 11.7338 11.7919Z" fill="#1C232C"/>
        <path d="M16.6588 6.11659C16.7921 7.73325 15.6421 9.14992 14.0505 9.34159C14.0421 9.34159 14.0421 9.34159 14.0338 9.34159H14.0088C13.9588 9.34159 13.9088 9.34159 13.8671 9.35825C13.0588 9.39992 12.3171 9.14159 11.7588 8.66659C12.6171 7.89992 13.1088 6.74992 13.0088 5.49992C12.9505 4.82492 12.7171 4.20825 12.3671 3.68325C12.6838 3.52492 13.0505 3.42492 13.4255 3.39159C15.0588 3.24992 16.5171 4.46659 16.6588 6.11659Z" fill="#1C232C"/>
        <path d="M18.3249 13.8252C18.2582 14.6335 17.7415 15.3335 16.8749 15.8085C16.0415 16.2668 14.9915 16.4835 13.9499 16.4585C14.5499 15.9168 14.8999 15.2418 14.9665 14.5252C15.0499 13.4918 14.5582 12.5002 13.5749 11.7085C13.0165 11.2668 12.3665 10.9168 11.6582 10.6585C13.4999 10.1252 15.8165 10.4835 17.2415 11.6335C18.0082 12.2502 18.3999 13.0252 18.3249 13.8252Z" fill="#1C232C"/>
        </svg>
        `,
    },
    // {
    //   id: 2,
    //   name: intl.formatMessage({ id: "notification" }),
    //   link: `/${router.locale}/orders/notification`,
    //   part: "",
    //   icon: `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    //     <path d="M16.1163 12.0748L15.283 10.6915C15.108 10.3832 14.9496 9.79984 14.9496 9.45817V7.34984C14.9496 5.3915 13.7996 3.69984 12.1413 2.90817C11.708 2.1415 10.908 1.6665 9.99129 1.6665C9.08296 1.6665 8.26629 2.15817 7.83296 2.93317C6.20796 3.7415 5.08296 5.4165 5.08296 7.34984V9.45817C5.08296 9.79984 4.92463 10.3832 4.74963 10.6832L3.90796 12.0748C3.57463 12.6332 3.49963 13.2498 3.70796 13.8165C3.90796 14.3748 4.38296 14.8082 4.99963 15.0165C6.61629 15.5665 8.31629 15.8332 10.0163 15.8332C11.7163 15.8332 13.4163 15.5665 15.033 15.0248C15.6163 14.8332 16.0663 14.3915 16.283 13.8165C16.4996 13.2415 16.4413 12.6082 16.1163 12.0748Z" fill="#1C232C"/>
    //     <path d="M12.3587 16.6748C12.0087 17.6415 11.0837 18.3332 10.0004 18.3332C9.34206 18.3332 8.69206 18.0665 8.23372 17.5915C7.96706 17.3415 7.76706 17.0082 7.65039 16.6665C7.75872 16.6832 7.86706 16.6915 7.98372 16.7082C8.17539 16.7332 8.37539 16.7582 8.57539 16.7748C9.05039 16.8165 9.53372 16.8415 10.0171 16.8415C10.4921 16.8415 10.9671 16.8165 11.4337 16.7748C11.6087 16.7582 11.7837 16.7498 11.9504 16.7248C12.0837 16.7082 12.2171 16.6915 12.3587 16.6748Z" fill="#1C232C"/>
    //     </svg>
    //       `,
    // },
    {
      id: 3,
      name: intl.formatMessage({ id: "news" }),
      link: `/${router.locale}/profile/news`,
      part: "",
      icon: `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M14.167 2.5H5.83366C3.53366 2.5 1.66699 4.36667 1.66699 6.66667V7.5V13.3333C1.66699 15.6333 3.53366 17.5 5.83366 17.5H13.3337H14.167C16.467 17.5 18.3337 15.6333 18.3337 13.3333V6.66667C18.3337 4.36667 16.467 2.5 14.167 2.5ZM8.74199 14.0083C8.71699 14.0083 8.69199 14.0167 8.65866 14.0167C8.35033 14.0167 8.08366 13.7833 8.04199 13.475C7.93366 12.625 7.31699 12.0083 6.46699 11.9C6.12533 11.8583 5.88366 11.5417 5.92533 11.2C5.96699 10.8583 6.28366 10.6167 6.62533 10.6583C8.03366 10.8417 9.10033 11.9083 9.28366 13.3167C9.32533 13.65 9.08366 13.9667 8.74199 14.0083ZM11.2837 13.5833C11.2587 13.5833 11.2337 13.5917 11.2003 13.5917C10.892 13.5917 10.6253 13.3583 10.5837 13.05C10.3253 11.0667 8.88366 9.61667 6.89199 9.35833C6.55033 9.31667 6.30866 9 6.35033 8.65833C6.39199 8.31667 6.70866 8.075 7.05033 8.11667C9.61699 8.45 11.492 10.3167 11.8253 12.8917C11.867 13.225 11.6253 13.5333 11.2837 13.5833ZM13.5337 12.8583C13.5087 12.8583 13.4837 12.8667 13.4503 12.8667C13.142 12.8667 12.8753 12.6333 12.8337 12.325C12.4753 9.50833 10.4253 7.45833 7.60866 7.1C7.26699 7.05833 7.02533 6.74167 7.06699 6.4C7.10866 6.05833 7.42533 5.81667 7.76699 5.85833C11.1587 6.29167 13.6337 8.76667 14.0753 12.1667C14.117 12.5083 13.8753 12.8167 13.5337 12.8583Z" fill="#1C232C"/>
        </svg>
        `,
    },
    {
      id: 4,
      name: intl.formatMessage({ id: "history" }),
      link: `/${router.locale}/orders`,
      part: "",
      icon: `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M18.317 13.0415C17.6337 12.1998 16.592 11.6665 15.417 11.6665C14.5337 11.6665 13.717 11.9748 13.0753 12.4915C12.2087 13.1748 11.667 14.2332 11.667 15.4165C11.667 16.5915 12.2003 17.6332 13.042 18.3165C13.6837 18.8498 14.517 19.1665 15.417 19.1665C16.367 19.1665 17.2253 18.8082 17.892 18.2332C18.667 17.5415 19.167 16.5415 19.167 15.4165C19.167 14.5165 18.8503 13.6832 18.317 13.0415ZM16.2753 15.6498C16.2753 15.8665 16.1587 16.0748 15.9753 16.1832L14.8003 16.8832C14.7003 16.9415 14.592 16.9748 14.4753 16.9748C14.267 16.9748 14.0587 16.8665 13.942 16.6748C13.767 16.3748 13.8587 15.9915 14.1587 15.8165L15.0253 15.2998V14.2498C15.0253 13.9082 15.3087 13.6248 15.6503 13.6248C15.992 13.6248 16.2753 13.9082 16.2753 14.2498V15.6498Z" fill="#1C232C"/>
        <path d="M12.2746 4.88317V2.08317C12.2746 1.84984 12.0913 1.6665 11.8579 1.6665H8.14128C7.90794 1.6665 7.72461 1.84984 7.72461 2.08317V4.88317C7.72461 5.1165 7.90794 5.29984 8.14128 5.29984H11.8579C12.0913 5.29984 12.2746 5.1165 12.2746 4.88317Z" fill="#1C232C"/>
        <path d="M6.04206 1.6831C3.90872 1.81643 2.45039 2.91643 1.90872 4.74977C1.82539 5.02477 2.02539 5.29977 2.30872 5.29977H6.05872C6.29206 5.29977 6.47539 5.11643 6.47539 4.8831V2.09977C6.47539 1.86643 6.27539 1.66643 6.04206 1.6831Z" fill="#1C232C"/>
        <path d="M13.9587 1.6748C16.0921 1.80813 17.5504 2.90813 18.0921 4.74147C18.1754 5.01647 17.9754 5.29147 17.6921 5.29147H13.9421C13.7087 5.29147 13.5254 5.10813 13.5254 4.8748V2.09147C13.5254 1.85813 13.7254 1.65813 13.9587 1.6748Z" fill="#1C232C"/>
        <path d="M18.3337 6.96647V10.6165C18.3337 10.9248 18.0087 11.1248 17.7337 10.9831C17.0337 10.6165 16.2337 10.4165 15.417 10.4165C14.0753 10.4165 12.767 10.9665 11.8337 11.9248C10.917 12.8581 10.417 14.0998 10.417 15.4165C10.417 16.0915 10.6837 16.9581 11.017 17.6831C11.1503 17.9748 10.9503 18.3331 10.6253 18.3331H6.50866C3.83366 18.3331 1.66699 16.1665 1.66699 13.4915V6.96647C1.66699 6.73314 1.85033 6.5498 2.08366 6.5498H17.917C18.1503 6.5498 18.3337 6.73314 18.3337 6.96647Z" fill="#1C232C"/>
        </svg>
        `,
    },
    {
      id: 5,
      name: intl.formatMessage({ id: "language" }),
      typeModal: "bottom",
      modal: "language",
      part: router.locale,
      icon: `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10.0003 1.6665C5.40033 1.6665 1.66699 5.39984 1.66699 9.99984C1.66699 14.5998 5.40033 18.3332 10.0003 18.3332C14.6003 18.3332 18.3337 14.5998 18.3337 9.99984C18.3337 5.39984 14.6003 1.6665 10.0003 1.6665ZM14.167 14.5582C12.742 14.5582 11.4087 13.9415 10.342 12.7998C9.13366 13.8915 7.55866 14.5582 5.83366 14.5582C5.49199 14.5582 5.20866 14.2748 5.20866 13.9332C5.20866 13.5915 5.49199 13.3082 5.83366 13.3082C8.72533 13.3082 11.117 11.0165 11.4253 8.08317H10.0003H5.84199C5.50033 8.08317 5.21699 7.79984 5.21699 7.45817C5.21699 7.1165 5.50033 6.8415 5.84199 6.8415H9.37533V6.0665C9.37533 5.72484 9.65866 5.4415 10.0003 5.4415C10.342 5.4415 10.6253 5.72484 10.6253 6.0665V6.8415H12.0337C12.0503 6.8415 12.067 6.83317 12.0837 6.83317C12.1003 6.83317 12.117 6.8415 12.1337 6.8415H14.1587C14.5003 6.8415 14.7837 7.12484 14.7837 7.4665C14.7837 7.80817 14.5003 8.0915 14.1587 8.0915H12.6753C12.5503 9.5165 12.017 10.8248 11.2003 11.8915C12.0337 12.8165 13.0753 13.3165 14.167 13.3165C14.5087 13.3165 14.792 13.5998 14.792 13.9415C14.792 14.2832 14.5087 14.5582 14.167 14.5582Z" fill="#1C232C"/>
        </svg>
        `,
    },
    {
      id: 6,
      name: intl.formatMessage({ id: "contactUs" }),
      typeModal: "bottom",
      modal: "contactUs",
      part: "",
      icon: `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.20866 12.4582L7.66699 13.9998C7.34199 14.3248 6.82533 14.3248 6.49199 14.0082C6.40033 13.9165 6.30866 13.8332 6.21699 13.7415C5.35866 12.8748 4.58366 11.9665 3.89199 11.0165C3.20866 10.0665 2.65866 9.1165 2.25866 8.17484C1.86699 7.22484 1.66699 6.3165 1.66699 5.44984C1.66699 4.88317 1.76699 4.3415 1.96699 3.8415C2.16699 3.33317 2.48366 2.8665 2.92533 2.44984C3.45866 1.92484 4.04199 1.6665 4.65866 1.6665C4.89199 1.6665 5.12533 1.7165 5.33366 1.8165C5.55033 1.9165 5.74199 2.0665 5.89199 2.28317L7.82533 5.00817C7.97533 5.2165 8.08366 5.40817 8.15866 5.5915C8.23366 5.7665 8.27533 5.9415 8.27533 6.09984C8.27533 6.29984 8.21699 6.49984 8.10033 6.6915C7.99199 6.88317 7.83366 7.08317 7.63366 7.28317L7.00033 7.9415C6.90866 8.03317 6.86699 8.1415 6.86699 8.27484C6.86699 8.3415 6.87533 8.39984 6.89199 8.4665C6.91699 8.53317 6.94199 8.58317 6.95866 8.63317C7.10866 8.90817 7.36699 9.2665 7.73366 9.69984C8.10866 10.1332 8.50866 10.5748 8.94199 11.0165C9.02532 11.0998 9.11699 11.1832 9.20033 11.2665C9.53366 11.5915 9.54199 12.1248 9.20866 12.4582Z" fill="#1C232C"/>
        <path d="M18.3083 15.2752C18.3083 15.5085 18.2667 15.7502 18.1833 15.9835C18.1583 16.0502 18.1333 16.1169 18.1 16.1835C17.9583 16.4835 17.775 16.7669 17.5333 17.0335C17.125 17.4835 16.675 17.8085 16.1667 18.0169C16.1583 18.0169 16.15 18.0252 16.1417 18.0252C15.65 18.2252 15.1167 18.3335 14.5417 18.3335C13.6917 18.3335 12.7833 18.1335 11.825 17.7252C10.8667 17.3169 9.90833 16.7669 8.95833 16.0752C8.63333 15.8335 8.30833 15.5919 8 15.3335L10.725 12.6085C10.9583 12.7835 11.1667 12.9169 11.3417 13.0085C11.3833 13.0252 11.4333 13.0502 11.4917 13.0752C11.5583 13.1002 11.625 13.1085 11.7 13.1085C11.8417 13.1085 11.95 13.0585 12.0417 12.9669L12.675 12.3419C12.8833 12.1335 13.0833 11.9752 13.275 11.8752C13.4667 11.7585 13.6583 11.7002 13.8667 11.7002C14.025 11.7002 14.1917 11.7335 14.375 11.8085C14.5583 11.8835 14.75 11.9919 14.9583 12.1335L17.7167 14.0919C17.9333 14.2419 18.0833 14.4169 18.175 14.6252C18.2583 14.8335 18.3083 15.0419 18.3083 15.2752Z" fill="#1C232C"/>
        </svg>
        `,
    },
    {
      id: 7,
      name: intl.formatMessage({ id: "quit" }),
      typeModal: "full",
      modal: "quit",
      part: "",
      icon: `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M14 1.6665H11.8333C9.16667 1.6665 7.5 3.33317 7.5 5.99984V9.37484H12.7083C13.05 9.37484 13.3333 9.65817 13.3333 9.99984C13.3333 10.3415 13.05 10.6248 12.7083 10.6248H7.5V13.9998C7.5 16.6665 9.16667 18.3332 11.8333 18.3332H13.9917C16.6583 18.3332 18.325 16.6665 18.325 13.9998V5.99984C18.3333 3.33317 16.6667 1.6665 14 1.6665Z" fill="#EB4143"/>
        <path d="M3.8002 9.37503L5.5252 7.65003C5.6502 7.52503 5.70853 7.3667 5.70853 7.20837C5.70853 7.05003 5.6502 6.88337 5.5252 6.7667C5.28353 6.52503 4.88353 6.52503 4.64186 6.7667L1.8502 9.55837C1.60853 9.80003 1.60853 10.2 1.8502 10.4417L4.64186 13.2334C4.88353 13.475 5.28353 13.475 5.5252 13.2334C5.76686 12.9917 5.76686 12.5917 5.5252 12.35L3.8002 10.625H7.5002V9.37503H3.8002V9.37503Z" fill="#EB4143"/>
        </svg>
        `,
    },
  ];

  const changeFn = (link, modal) => {
    if (link) {
      router.push(link);
    } else if (modal) {
      // all modal logic
      switcher(modal);
    }
  };

  const switcher = (modal) => {
    switch (modal) {
      case "edit":
        dispatch(toggleInfoModal());
        break;
      case "quit":
        dispatch(toggleQuitModal());
        break;
      case "language":
        dispatch(toggleLangModal());
        break;
      case "contactUs":
        dispatch(toggleContactUsModal());
        break;
    }
  };

  return (
    <div className="container">
      <div className="flex flex-col gap-3 xs:gap-5 bg-white p-3  xs:p-5  sm:p-7 rounded-2xl">
        {btns?.map((item, index) => {
          var lang;
          if (item?.part) {
            switch (item?.part) {
              case "uz":
                lang = "O'zbek tili";
                break;
              case "en":
                lang = "English";
                break;
              case "ru":
                lang = "Русский язык";
              default:
                "";
            }
          }

          return (
            <div
              onClick={() => changeFn(item?.link, item?.modal)}
              className="flex flex-row items-center justify-between w-full cursor-pointer"
              key={index}
            >
              <div className="flex flex-row items-center gap-2 sm:gap-3">
                <div className="w-12 xs:w-14 h-12 xs:h-14 bg-grey-7 flex items-center justify-center rounded-xl">
                  <span
                    dangerouslySetInnerHTML={{
                      __html: item?.icon,
                    }}
                  />
                </div>
                <p className="text-text-primary leading-normal font-semibold text-sm xs:text-base flex-1">
                  {item?.name}
                </p>
              </div>
              <div className="flex flex-row items-center gap-3">
                {item?.part ? (
                  <p className="text-text-secondary leading-normal font-normal text-base hidden xs:block">
                    {lang}
                  </p>
                ) : (
                  ""
                )}
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 18 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M6.6827 15.5026C6.5402 15.5026 6.3977 15.4501 6.2852 15.3376C6.0677 15.1201 6.0677 14.7601 6.2852 14.5426L11.1752 9.65264C11.5352 9.29264 11.5352 8.70764 11.1752 8.34764L6.2852 3.45764C6.0677 3.24014 6.0677 2.88014 6.2852 2.66264C6.5027 2.44514 6.86269 2.44514 7.08019 2.66264L11.9702 7.55264C12.3527 7.93514 12.5702 8.45264 12.5702 9.00014C12.5702 9.54764 12.3602 10.0651 11.9702 10.4476L7.08019 15.3376C6.96769 15.4426 6.8252 15.5026 6.6827 15.5026Z"
                    fill="#636C79"
                  />
                </svg>
              </div>
            </div>
          );
        })}
      </div>
    </div>
  );
}
